{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\react\\\\myapp\\\\src\\\\App.js\";\nimport React from 'react';\nimport { observer } from 'mobx-react';\nimport UserStore from './stores/UserStore';\nimport LoginForm from './LoginForm';\nimport SubmitButton from './SubmitButton';\nimport './App.css';\n\nclass App extends React.Component {\n  async componentDidMount() {\n    try {\n      let res = await fetch('/isLoggedIn', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = true;\n        UserStore.username = result.username;\n      } else {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = false;\n      }\n    } catch (e) {\n      UserStore.loading = false;\n      UserStore.isLoggedIn = false;\n    }\n  }\n\n  async doLogout() {\n    try {\n      let res = await fetch('/logout', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.isLoggedIn = false;\n        UserStore.username = '';\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    if (UserStore.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: \"Loading, Please wait for a moment..\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this);\n    } else {\n      if (UserStore.isLoggedIn) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: [\"Welcome \", UserStore.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this);\n    }\n  }\n\n}\n\nexport default _c = observer(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["E:/react/myapp/src/App.js"],"names":["React","observer","UserStore","LoginForm","SubmitButton","App","Component","componentDidMount","res","fetch","method","headers","result","json","success","loading","isLoggedIn","username","e","doLogout","console","log","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAyB,OAAzB;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAO,WAAP;;AAEA,MAAMC,GAAN,SAAkBL,KAAK,CAACM,SAAxB,CAAkC;AAE9B,QAAMC,iBAAN,GAA0B;AACxB,QAAI;AACA,UAAIC,GAAG,GAAG,MAAMC,KAAK,CAAC,aAAD,EAAe;AAClCC,QAAAA,MAAM,EAAC,MAD2B;AAElCC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAiB;AAFV;AAFyB,OAAf,CAArB;AAQA,UAAIC,MAAM,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;;AAEA,UAAID,MAAM,IAAIA,MAAM,CAACE,OAArB,EAA8B;AAC5BZ,QAAAA,SAAS,CAACa,OAAV,GAAkB,KAAlB;AACAb,QAAAA,SAAS,CAACc,UAAV,GAAqB,IAArB;AACAd,QAAAA,SAAS,CAACe,QAAV,GAAqBL,MAAM,CAACK,QAA5B;AACD,OAJD,MAKK;AACHf,QAAAA,SAAS,CAACa,OAAV,GAAoB,KAApB;AACAb,QAAAA,SAAS,CAACc,UAAV,GAAqB,KAArB;AACD;AACJ,KApBD,CAqBA,OAAME,CAAN,EAAS;AACLhB,MAAAA,SAAS,CAACa,OAAV,GAAkB,KAAlB;AACAb,MAAAA,SAAS,CAACc,UAAV,GAAqB,KAArB;AACH;AACF;;AAGC,QAAMG,QAAN,GAAiB;AACf,QAAI;AACA,UAAIX,GAAG,GAAG,MAAMC,KAAK,CAAC,SAAD,EAAW;AAC9BC,QAAAA,MAAM,EAAC,MADuB;AAE9BC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAiB;AAFV;AAFqB,OAAX,CAArB;AAQA,UAAIC,MAAM,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;;AAEA,UAAID,MAAM,IAAIA,MAAM,CAACE,OAArB,EAA8B;AAC5BZ,QAAAA,SAAS,CAACc,UAAV,GAAqB,KAArB;AACAd,QAAAA,SAAS,CAACe,QAAV,GAAsB,EAAtB;AACD;AAEJ,KAhBD,CAiBA,OAAMC,CAAN,EAAS;AACLE,MAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;AACH;AACF;;AAEDI,EAAAA,MAAM,GAAG;AAET,QAAGpB,SAAS,CAACa,OAAb,EAAsB;AACpB,0BACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAOD,KARD,MAUK;AACD,UAAIb,SAAS,CAACc,UAAd,EAAyB;AACvB,4BACE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,mCACWd,SAAS,CAACe,QADrB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF;AAcD;;AAEL,0BACA;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACG;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,iCAME,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,cADA;AAYH;AACF;;AAjGiC;;AAoGlC,oBAAehB,QAAQ,CAACI,GAAD,CAAvB","sourcesContent":["import React        from 'react';\nimport { observer } from 'mobx-react';\nimport UserStore from './stores/UserStore';\nimport LoginForm from './LoginForm';\nimport SubmitButton from './SubmitButton';\nimport './App.css';\n\nclass App extends React.Component {\n\n    async componentDidMount() {\n      try {\n          let res = await fetch('/isLoggedIn',{\n            method:'post',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type' : 'application/json'\n            }\n          });\n\n          let result = await res.json();\n\n          if (result && result.success) {\n            UserStore.loading=false;\n            UserStore.isLoggedIn=true;\n            UserStore.username = result.username;\n          }\n          else {\n            UserStore.loading = false;\n            UserStore.isLoggedIn=false;\n          }\n      }\n      catch(e) {\n          UserStore.loading=false;\n          UserStore.isLoggedIn=false;\n      }\n    }\n\n    \n      async doLogout() {\n        try {\n            let res = await fetch('/logout',{\n              method:'post',\n              headers: {\n                'Accept': 'application/json',\n                'Content-Type' : 'application/json'\n              }\n            });\n  \n            let result = await res.json();\n  \n            if (result && result.success) {\n              UserStore.isLoggedIn=false;\n              UserStore.username =  '';\n            }\n            \n        }\n        catch(e) {\n            console.log(e)\n        }\n      }\n\n      render() {\n    \n      if(UserStore.loading) {\n        return(\n          <div className=\"app\">\n            <div className='container'>\n              Loading, Please wait for a moment..\n            </div>\n          </div>\n        );\n      }\n      \n      else {\n          if (UserStore.isLoggedIn){\n            return (\n              <div className=\"app\">\n                <div className='container'>\n                  Welcome {UserStore.username}\n\n                  {/* <SubmitButton\n                    text={'Log out'}\n                    disabled={false}\n                    onClick={ () => this.doLogout()}\n                    /> */}\n\n                </div>\n              </div>\n            );\n          }\n         \n      return(\n      <div className=\"app\">\n         <div className='container'>\n                  {/* <SubmitButton\n                    text={'cout'}\n                    disabled={false}\n                    onClick={ () => this.doLogout()}\n                    /> */}\n           <LoginForm />\n         </div>\n      </div>\n    );\n  }\n}\n}\n\nexport default observer(App);\n"]},"metadata":{},"sourceType":"module"}